(function(){"use strict";var e={8822:function(e,o,t){var a=t(5130),s=t(6768);const n={id:"app",class:"full-width"},i={key:0,class:"full-width"};function l(e,o,t,a,l,r){const c=(0,s.g2)("router-view");return(0,s.uX)(),(0,s.CE)("div",n,[o[0]||(o[0]=(0,s.Lk)("nav",{class:"full-width"},null,-1)),(0,s.bF)(c),e.isPopularTableRoute?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("footer",i))])}var r=t(1387),c=(0,s.pM)({name:"App",components:{},setup(){const e=(0,r.lq)(),o=(0,s.EW)((()=>"/popular/table"===e.path));return{isPopularTableRoute:o}}}),u=t(1241);const p=(0,u.A)(c,[["render",l]]);var d=p,g=t(4232);const m={id:"home"},v={key:0,class:"loading"},h={class:"section-title"},k={class:"poster-list"};function f(e,o,t,a,n,i){const l=(0,s.g2)("NavbarComponent"),r=(0,s.g2)("PosterComponent"),c=(0,s.g2)("FooterComponent");return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.bF)(l),(0,s.Lk)("div",m,[e.isFetching?((0,s.uX)(),(0,s.CE)("div",v,"Loading...")):(0,s.Q3)("",!0),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.movieSections,((o,t)=>((0,s.uX)(),(0,s.CE)("div",{class:"movie-section",key:t},[(0,s.Lk)("h2",h,(0,g.v_)(o.title),1),(0,s.Lk)("div",k,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(o.data,(o=>((0,s.uX)(),(0,s.Wv)(r,{key:o.id,movie:o,onToggleMovieDetails:e.toggleMovieDetails},null,8,["movie","onToggleMovieDetails"])))),128))])])))),128)),(0,s.bF)(c)]),e.selectedMovie?((0,s.uX)(),(0,s.Wv)(r,{key:0,movie:e.selectedMovie,onCloseMovieDetails:e.closeMovieDetails},null,8,["movie","onCloseMovieDetails"])):(0,s.Q3)("",!0)],64)}t(4114),t(1454);var w=t(144);const b=["src"],C={class:"poster-title"},S={class:"movie-details-content"},L=["src"];function y(e,o,t,n,i,l){return(0,s.uX)(),(0,s.CE)("div",null,[(0,s.Lk)("div",{class:"poster-container",onClick:o[0]||(o[0]=(...o)=>e.handlePosterClick&&e.handlePosterClick(...o))},[(0,s.Lk)("img",{src:e.movie.image,alt:"movie poster",class:(0,g.C4)(["poster-image",{selected:e.isItemInLocalStorage(e.movie)}])},null,10,b),(0,s.Lk)("p",C,(0,g.v_)(e.movie.name),1)]),e.showDetails?((0,s.uX)(),(0,s.CE)("div",{key:0,class:"movie-details-modal",onClick:o[2]||(o[2]=(0,a.D$)(((...o)=>e.closeMovieDetails&&e.closeMovieDetails(...o)),["self"]))},[(0,s.Lk)("div",S,[(0,s.Lk)("h2",null,(0,g.v_)(e.movie.name),1),(0,s.Lk)("img",{src:e.movie.image,alt:"movie poster",class:"details-poster-image"},null,8,L),(0,s.Lk)("p",null,[o[3]||(o[3]=(0,s.Lk)("strong",null,"Description:",-1)),(0,s.eW)(" "+(0,g.v_)(e.movie.description),1)]),(0,s.Lk)("p",null,[o[4]||(o[4]=(0,s.Lk)("strong",null,"Rating:",-1)),(0,s.eW)(" "+(0,g.v_)(e.movie.rating),1)]),(0,s.Lk)("p",null,[o[5]||(o[5]=(0,s.Lk)("strong",null,"Genres:",-1)),(0,s.eW)(" "+(0,g.v_)(e.movie.genre),1)]),(0,s.Lk)("button",{onClick:o[1]||(o[1]=(...o)=>e.closeMovieDetails&&e.closeMovieDetails(...o)),class:"close-button"},"Close")])])):(0,s.Q3)("",!0)])}t(8992),t(7550);var I=(0,s.pM)({name:"PosterComponent",props:{movie:{type:Object,required:!0}},setup(e){const o=(0,w.KR)(!1),t=()=>{a(),n(e.movie)},a=()=>{o.value=!o.value},s=()=>{o.value=!1},n=e=>{let o=JSON.parse(localStorage.getItem("selectedMovies")||"[]");const t=o.findIndex((o=>o.id===e.id));-1===t?o.push({id:e.id,name:e.name,image:e.image}):o.splice(t,1),localStorage.setItem("selectedMovies",JSON.stringify(o))},i=e=>{let o=JSON.parse(localStorage.getItem("selectedMovies")||"[]");return o.some((o=>o.id===e.id))};return{showDetails:o,toggleMovieDetails:a,closeMovieDetails:s,toggleLocalStorage:n,isItemInLocalStorage:i,handlePosterClick:t}}});const T=(0,u.A)(I,[["render",y],["__scopeId","data-v-8d1cb87a"]]);var M=T;const F={class:"navbar"},E={class:"navbar-left"},A={class:"svg-inline--fa fa-ticket","aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"ticket",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",style:{height:"100%",color:"rgb(229, 9, 20)"}},K={class:"navbar-right"},P={key:1,class:"nav-item"},O={class:"user-email"};function R(e,o,t,a,n,i){const l=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("nav",F,[(0,s.Lk)("div",E,[(0,s.bF)(l,{to:"/#",class:"logo"},{default:(0,s.k6)((()=>[((0,s.uX)(),(0,s.CE)("svg",A,o[0]||(o[0]=[(0,s.Lk)("path",{class:"",fill:"currentColor",d:"M64 64C28.7 64 0 92.7 0 128l0 64c0 8.8 7.4 15.7 15.7 18.6C34.5 217.1 48 235 48 256s-13.5 38.9-32.3 45.4C7.4 304.3 0 311.2 0 320l0 64c0 35.3 28.7 64 64 64l448 0c35.3 0 64-28.7 64-64l0-64c0-8.8-7.4-15.7-15.7-18.6C541.5 294.9 528 277 528 256s13.5-38.9 32.3-45.4c8.3-2.9 15.7-9.8 15.7-18.6l0-64c0-35.3-28.7-64-64-64L64 64zm64 112l0 160c0 8.8 7.2 16 16 16l288 0c8.8 0 16-7.2 16-16l0-160c0-8.8-7.2-16-16-16l-288 0c-8.8 0-16 7.2-16 16zM96 160c0-17.7 14.3-32 32-32l320 0c17.7 0 32 14.3 32 32l0 192c0 17.7-14.3 32-32 32l-320 0c-17.7 0-32-14.3-32-32l0-192z"},null,-1)])))])),_:1}),(0,s.bF)(l,{to:"/",class:"nav-item"},{default:(0,s.k6)((()=>o[1]||(o[1]=[(0,s.eW)("Home")]))),_:1}),(0,s.bF)(l,{to:"/popular",class:"nav-item"},{default:(0,s.k6)((()=>o[2]||(o[2]=[(0,s.eW)("Popular")]))),_:1}),(0,s.bF)(l,{to:"/search",class:"nav-item"},{default:(0,s.k6)((()=>o[3]||(o[3]=[(0,s.eW)("Search")]))),_:1}),(0,s.bF)(l,{to:"/wishlist",class:"nav-item"},{default:(0,s.k6)((()=>o[4]||(o[4]=[(0,s.eW)("Wishlist")]))),_:1})]),(0,s.Lk)("div",K,[e.isAuthenticated?((0,s.uX)(),(0,s.CE)("div",P,[(0,s.Lk)("span",O,(0,g.v_)(e.userInfo),1),(0,s.bF)(l,{onClick:e.logout,to:"/Sign",class:"nav-item logout-button"},{default:(0,s.k6)((()=>o[6]||(o[6]=[(0,s.eW)("Logout")]))),_:1},8,["onClick"])])):((0,s.uX)(),(0,s.Wv)(l,{key:0,to:"/Sign",class:"nav-item sign-button"},{default:(0,s.k6)((()=>o[5]||(o[5]=[(0,s.eW)("Sign")]))),_:1}))])])}var X=t(5234);const W=(0,X.nY)("auth",{state:()=>({isAuthenticated:!!localStorage.getItem("authUser"),user:localStorage.getItem("authUser")?JSON.parse(localStorage.getItem("authUser")||"{}"):null}),actions:{login(e){this.isAuthenticated=!0,this.user=e,localStorage.setItem("authUser",JSON.stringify(e))},logout(){this.isAuthenticated=!1,this.user=null,localStorage.removeItem("authUser")}}});var x=(0,s.pM)({name:"NavbarComponent",setup(){const e=W(),{isAuthenticated:o,user:t}=(0,X.bP)(e),{logout:a}=e;return{isAuthenticated:o,userInfo:t?.value?.email||t?.value?.userInfo?.properties?.nickname||"",logout:a}}});const N=(0,u.A)(x,[["render",R],["__scopeId","data-v-68e2c5f6"]]);var U=N;const _={class:"footer"},V={class:"footer-links"};function j(e,o,t,a,n,i){const l=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("footer",_,[(0,s.Lk)("div",V,[(0,s.bF)(l,{to:"/help",class:"footer-link"},{default:(0,s.k6)((()=>o[0]||(o[0]=[(0,s.eW)("Help Center")]))),_:1}),(0,s.bF)(l,{to:"/terms",class:"footer-link"},{default:(0,s.k6)((()=>o[1]||(o[1]=[(0,s.eW)("Terms of Use")]))),_:1}),(0,s.bF)(l,{to:"/privacy",class:"footer-link"},{default:(0,s.k6)((()=>o[2]||(o[2]=[(0,s.eW)("Privacy Policy")]))),_:1}),(0,s.bF)(l,{to:"/contact",class:"footer-link"},{default:(0,s.k6)((()=>o[3]||(o[3]=[(0,s.eW)("Contact Us")]))),_:1})]),o[4]||(o[4]=(0,s.Lk)("div",{class:"footer-copyright"},[(0,s.Lk)("p",null,"© 2024 Netflix Clone. All rights reserved.")],-1))])}var Q=(0,s.pM)({name:"FooterComponent"});const B=(0,u.A)(Q,[["render",j],["__scopeId","data-v-2e1fd282"]]);var J=B;const D="https://api.themoviedb.org/3";var H=(0,s.pM)({name:"HomeViewComponent",components:{PosterComponent:M,NavbarComponent:U,FooterComponent:J},setup(){const e=(0,w.KR)([]),o=(0,w.KR)(!1),t=(0,w.KR)(!1),a=(0,w.KR)(null),n=(0,r.rd)(),i="281dc9b971acbdf5c2a5787ded23f9b9";i||console.error("API key is missing!");const l=async(o,t)=>{const a=`${D}/${o}?api_key=${i}&language=ko-KR&page=1`;try{const o=await fetch(a),s=await o.json(),n=s.results.slice(0,5).map((e=>({id:e.id,name:e.title,image:`https://image.tmdb.org/t/p/w500${e.poster_path}`,description:e.overview,rating:e.vote_average,genre:e.genre_ids.join(", ")})));e.value.push({title:t,data:n})}catch(s){console.error("Failed to fetch movies:",s)}},c=async()=>{if(!o.value){o.value=!0;try{await Promise.all([l("movie/popular","Popular Movies"),l("movie/top_rated","Top Rated Movies"),l("movie/upcoming","Upcoming Movies"),l("trending/movie/week","Trending This Week")])}catch(e){console.error("Failed to fetch all movie sections:",e)}finally{o.value=!1}}},u=()=>{t.value=window.scrollY>200},p=()=>{window.scrollTo({top:0,behavior:"smooth"})},d=()=>{n.push("/wishlist")},g=e=>{a.value&&a.value.id===e.id?a.value=null:a.value=e},m=()=>{a.value=null};return(0,s.sV)((()=>{c(),window.addEventListener("scroll",u)})),(0,s.xo)((()=>{window.removeEventListener("scroll",u)})),{movieSections:e,isFetching:o,showTopButton:t,selectedMovie:a,scrollToTop:p,goToWishlistView:d,toggleMovieDetails:g,closeMovieDetails:m}}});const Y=(0,u.A)(H,[["render",f],["__scopeId","data-v-4e61b0b2"]]);var z=Y;const q={id:"popular"},Z={key:0,class:"loading"},G={class:"poster-list"},$=["onClick"],ee=["src"],oe={class:"poster-title"},te={ref:"infiniteScrollTarget",class:"infinite-scroll-target"};function ae(e,o,t,a,n,i){const l=(0,s.g2)("NavbarComponent"),r=(0,s.g2)("FooterComponent");return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.bF)(l),(0,s.Lk)("div",q,[(0,s.Lk)("div",null,[(0,s.Lk)("button",{onClick:o[0]||(o[0]=(...o)=>e.goToTableView&&e.goToTableView(...o)),class:"toggle-view-button"}," Switch to Table View ")]),e.isFetching&&!e.isTableView?((0,s.uX)(),(0,s.CE)("div",Z,"Loading...")):(0,s.Q3)("",!0),e.isTableView?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("button",{key:1,onClick:o[1]||(o[1]=(...o)=>e.scrollToTop&&e.scrollToTop(...o)),class:"top-button"},"TOP")),(0,s.Lk)("div",G,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.popularItems,(o=>((0,s.uX)(),(0,s.CE)("div",{key:o.id,class:"poster-container",onClick:t=>e.toggleLocalStorage(o)},[(0,s.Lk)("img",{src:o.image,alt:"movie poster",class:(0,g.C4)(["poster-image",{"selected-poster":e.isItemInLocalStorage(o)}])},null,10,ee),(0,s.Lk)("p",oe,(0,g.v_)(o.name),1)],8,$)))),128))]),(0,s.Lk)("div",te,null,512)]),(0,s.bF)(r)],64)}const se="https://api.themoviedb.org/3";var ne=(0,s.pM)({name:"App",components:{NavbarComponent:U,FooterComponent:J},setup(){const e=(0,w.KR)([]),o=(0,w.KR)(1),t=(0,w.KR)(!1),a=(0,w.KR)(!0),n=(0,r.rd)(),i=(0,w.KR)(null),l="281dc9b971acbdf5c2a5787ded23f9b9",c=async(a=1)=>{if(t.value)return;t.value=!0;const s=`${se}/movie/popular?api_key=${l}&language=ko-KR&page=${a}`;console.log(l);try{const t=await fetch(s);if(!t.ok)throw new Error("Network response was not ok");const a=await t.json();e.value=[...e.value,...a.results.map((e=>({id:e.id,name:e.title,image:`https://image.tmdb.org/t/p/w500${e.poster_path}`})))],o.value+=1}catch(n){console.error("Failed to fetch popular movies:",n)}finally{t.value=!1}},u=e=>{const[a]=e;a.isIntersecting&&!t.value&&c(o.value)},p=()=>{window.scrollTo({top:0,behavior:"smooth"})},d=()=>{n.push("/popular/table")},g=o=>{let t=JSON.parse(localStorage.getItem("selectedMovies")||"[]");const a=t.findIndex((e=>e.id===o.id));-1===a?t.push(o):t.splice(a,1),localStorage.setItem("selectedMovies",JSON.stringify(t)),e.value=[...e.value]},m=e=>{let o=JSON.parse(localStorage.getItem("selectedMovies")||"[]");return o.some((o=>o.id===e.id))};return(0,s.sV)((()=>{c();const e=new IntersectionObserver(u,{root:null,rootMargin:"0px",threshold:.1});i.value&&e.observe(i.value)})),{popularItems:e,isFetching:t,showTopButton:a,scrollToTop:p,goToTableView:d,toggleLocalStorage:g,isItemInLocalStorage:m,infiniteScrollTarget:i}}});const ie=(0,u.A)(ne,[["render",ae],["__scopeId","data-v-1052de06"]]);var le=ie;const re={id:"table-view"},ce={class:"grid-view"},ue={class:"grid-container"},pe=["onClick"],de={class:"poster-image-wrapper"},ge=["src","alt"],me={class:"poster-title"},ve={class:"pagination"},he=["disabled"],ke=["onClick"],fe=["disabled"];function we(e,o,t,a,n,i){const l=(0,s.g2)("NavbarComponent"),r=(0,s.g2)("FooterComponent");return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.bF)(l),(0,s.Lk)("div",re,[(0,s.Lk)("button",{onClick:o[0]||(o[0]=(...o)=>e.goToPopularView&&e.goToPopularView(...o)),class:"toggle-view-button"},"Switch to Popular View"),(0,s.Lk)("div",ce,[(0,s.Lk)("div",ue,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.paginatedItems,(o=>((0,s.uX)(),(0,s.CE)("div",{key:o.id,class:"grid-item",onClick:t=>e.toggleLocalStorage(o)},[(0,s.Lk)("div",de,[o.image?((0,s.uX)(),(0,s.CE)("img",{key:0,src:o.image,alt:o.name,class:(0,g.C4)(["poster-image",{"selected-poster":e.isItemInLocalStorage(o)}])},null,10,ge)):(0,s.Q3)("",!0),(0,s.Lk)("div",me,(0,g.v_)(o.name),1)])],8,pe)))),128))]),(0,s.Lk)("div",ve,[(0,s.Lk)("button",{onClick:o[1]||(o[1]=o=>e.goToPage(e.currentPage-1)),disabled:1===e.currentPage},"Previous",8,he),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.visiblePages,(o=>((0,s.uX)(),(0,s.CE)("span",{key:o,onClick:t=>e.goToPage(o),class:(0,g.C4)(["page-number",{active:o===e.currentPage}])},(0,g.v_)(o),11,ke)))),128)),(0,s.Lk)("button",{onClick:o[2]||(o[2]=o=>e.goToPage(e.currentPage+1)),disabled:e.currentPage===e.totalPages},"Next",8,fe)])])]),(0,s.bF)(r)],64)}var be=(0,s.pM)({name:"TableViewComponent",components:{NavbarComponent:U,FooterComponent:J},props:{items:{type:Array,required:!0}},setup(e){const o=(0,w.KR)([]),t=(0,w.KR)(1),a=20,n=(0,w.KR)(!1),i=(0,r.rd)(),l=(0,s.EW)((()=>Math.ceil(o.value.length/a))),c=(0,s.EW)((()=>{const e=(t.value-1)*a,s=e+a;return o.value.slice(e,s)})),u=(0,s.EW)((()=>{const e=[],o=8,a=l.value;let s=Math.max(1,t.value-Math.floor(o/2)),n=s+o-1;n>a&&(n=a,s=Math.max(1,n-o+1));for(let t=s;t<=n;t++)e.push(t);return e})),p="281dc9b971acbdf5c2a5787ded23f9b9",d=async(e=!1)=>{if(n.value)return;n.value=!0;const a="https://api.themoviedb.org/3";try{if(e)for(let e=1;e<=8;e++){const t=`${a}/movie/popular?api_key=${p}&language=ko-KR&page=${e}`,s=await fetch(t),n=await s.json();o.value=[...o.value,...n.results.map((e=>({id:e.id,name:e.title,image:`https://image.tmdb.org/t/p/w500${e.poster_path}`})))]}else{const e=`${a}/movie/popular?api_key=${p}&language=ko-KR&page=${t.value}`,s=await fetch(e),n=await s.json();o.value=[...o.value,...n.results.map((e=>({id:e.id,name:e.title,image:`https://image.tmdb.org/t/p/w500${e.poster_path}`})))]}}catch(s){console.error("Failed to fetch popular movies:",s)}finally{n.value=!1}},g=e=>{e>0&&e<=l.value&&(t.value=e,d())},m=()=>{t.value>1&&(t.value-=1,d())},v=()=>{t.value<l.value&&(t.value+=1,d())},h=()=>{i.push("/popular")},k=e=>{let t=JSON.parse(localStorage.getItem("selectedMovies")||"[]");const a=t.findIndex((o=>o.id===e.id));-1===a?t.push(e):t.splice(a,1),localStorage.setItem("selectedMovies",JSON.stringify(t)),console.log("Updated localStorage:",t),o.value=[...o.value]},f=e=>{let o=JSON.parse(localStorage.getItem("selectedMovies")||"[]");return o.some((o=>o.id===e.id))};return(0,s.sV)((()=>{d(!0)})),{paginatedItems:c,currentPage:t,totalPages:l,visiblePages:u,goToPage:g,previousPage:m,nextPage:v,popularItems:o,goToPopularView:h,toggleLocalStorage:k,isItemInLocalStorage:f}}});const Ce=(0,u.A)(be,[["render",we],["__scopeId","data-v-6befdbee"]]);var Se=Ce;const Le={key:0,class:"loading"},ye={id:"wishlist"},Ie={class:"poster-list"},Te=["onClick"],Me=["src"],Fe={class:"poster-title"};function Ee(e,o,t,a,n,i){const l=(0,s.g2)("NavbarComponent"),r=(0,s.g2)("FooterComponent");return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.bF)(l),e.isFetching?((0,s.uX)(),(0,s.CE)("div",Le,"Loading...")):(0,s.Q3)("",!0),(0,s.Lk)("div",ye,[e.showTopButton?((0,s.uX)(),(0,s.CE)("button",{key:0,onClick:o[0]||(o[0]=(...o)=>e.scrollToTop&&e.scrollToTop(...o)),class:"top-button"},"TOP")):(0,s.Q3)("",!0),(0,s.Lk)("div",Ie,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.popularItems,(o=>((0,s.uX)(),(0,s.CE)("div",{key:o.id,class:(0,g.C4)(["poster-container",{"selected-poster":e.isItemInLocalStorage(o)}]),onClick:t=>e.toggleLocalStorage(o)},[(0,s.Lk)("img",{src:o.image,alt:"movie poster",class:"poster-image"},null,8,Me),(0,s.Lk)("p",Fe,(0,g.v_)(o.name),1)],10,Te)))),128))])]),(0,s.bF)(r)],64)}var Ae=(0,s.pM)({name:"WishlistViewComponent",components:{NavbarComponent:U,FooterComponent:J},setup(){const e=(0,w.KR)([]),o=((0,w.KR)(1),(0,w.KR)(!1)),t=(0,w.KR)(!1),a=(0,r.rd)(),n=async()=>{if(!o.value){o.value=!0;try{const o=JSON.parse(localStorage.getItem("selectedMovies")||"[]");e.value=[...o]}catch(t){console.error("Failed to fetch popular movies:",t)}finally{o.value=!1}}},i=()=>{const e=window.innerHeight+window.scrollY>=document.documentElement.scrollHeight-10;e&&n(),t.value=window.scrollY>200},l=()=>{window.scrollTo({top:0,behavior:"smooth"})},c=()=>{a.push("/popular")},u=o=>{let t=JSON.parse(localStorage.getItem("selectedMovies")||"[]");const a=t.findIndex((e=>e.id===o.id));-1===a?t.push(o):t.splice(a,1),localStorage.setItem("selectedMovies",JSON.stringify(t)),e.value=[...t]},p=e=>{let o=JSON.parse(localStorage.getItem("selectedMovies")||"[]");return o.some((o=>o.id===e.id))};return(0,s.sV)((()=>{n(),window.addEventListener("scroll",i)})),(0,s.xo)((()=>{window.removeEventListener("scroll",i)})),{popularItems:e,isFetching:o,showTopButton:t,scrollToTop:l,goToPopularView:c,toggleLocalStorage:u,isItemInLocalStorage:p}}});const Ke=(0,u.A)(Ae,[["render",Ee],["__scopeId","data-v-1097f807"]]);var Pe=Ke;const Oe={class:"search-filter-container"},Re={class:"search-container"},Xe={class:"filter-section"},We=["value"],xe={key:0,class:"loading"},Ne={class:"grid-view"},Ue={class:"grid-container"},_e=["onClick"],Ve=["src","alt"],je={class:"poster-title"},Qe={ref:"infiniteScrollTarget",class:"infinite-scroll-target"};function Be(e,o,t,n,i,l){const r=(0,s.g2)("NavbarComponent"),c=(0,s.g2)("FooterComponent");return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.bF)(r),(0,s.Lk)("div",Oe,[(0,s.Lk)("div",Re,[(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=o=>e.searchQuery=o),placeholder:"Search movies...",class:"search-input"},null,512),[[a.Jo,e.searchQuery]]),(0,s.Lk)("button",{onClick:o[1]||(o[1]=(...o)=>e.searchMovies&&e.searchMovies(...o)),class:"search-button"},"Search")]),(0,s.Lk)("div",Xe,[(0,s.Lk)("label",null,[o[8]||(o[8]=(0,s.eW)(" Genre: ")),(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":o[2]||(o[2]=o=>e.selectedGenre=o)},[o[7]||(o[7]=(0,s.Lk)("option",{value:""},"All",-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.genres,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e.id,value:e.id},(0,g.v_)(e.name),9,We)))),128))],512),[[a.u1,e.selectedGenre]])]),(0,s.Lk)("label",null,[o[10]||(o[10]=(0,s.eW)(" Rating: ")),(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":o[3]||(o[3]=o=>e.selectedRatingRange=o)},o[9]||(o[9]=[(0,s.Fv)('<option value="" data-v-285d8cea>All</option><option value="0-4" data-v-285d8cea>4 and below</option><option value="4-5" data-v-285d8cea>4 - 5</option><option value="5-6" data-v-285d8cea>5 - 6</option><option value="6-7" data-v-285d8cea>6 - 7</option><option value="7-8" data-v-285d8cea>7 - 8</option><option value="8-9" data-v-285d8cea>8 - 9</option><option value="9-10" data-v-285d8cea>9 - 10</option>',8)]),512),[[a.u1,e.selectedRatingRange]])]),(0,s.Lk)("label",null,[o[12]||(o[12]=(0,s.eW)(" Sort By: ")),(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":o[4]||(o[4]=o=>e.sortBy=o)},o[11]||(o[11]=[(0,s.Lk)("option",{value:"popularity.asc"},"Popularity (Ascending)",-1),(0,s.Lk)("option",{value:"popularity.desc"},"Popularity (Descending)",-1)]),512),[[a.u1,e.sortBy]])]),(0,s.Lk)("button",{onClick:o[5]||(o[5]=(...o)=>e.resetFilters&&e.resetFilters(...o)),class:"reset-button"},"Reset Filters")])]),e.isFetching?((0,s.uX)(),(0,s.CE)("div",xe,"Loading...")):(0,s.Q3)("",!0),(0,s.Lk)("div",Ne,[(0,s.Lk)("div",Ue,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.movies,(o=>((0,s.uX)(),(0,s.CE)("div",{key:o.id,class:"grid-item poster-container",onClick:t=>e.toggleLocalStorage(o)},[(0,s.Lk)("img",{src:`https://image.tmdb.org/t/p/w500${o.poster_path}`,alt:o.title,class:(0,g.C4)(["poster-image",{"selected-poster":e.isItemInLocalStorage(o)}])},null,10,Ve),(0,s.Lk)("p",je,(0,g.v_)(o.title),1)],8,_e)))),128))]),(0,s.Lk)("div",Qe,null,512)]),e.showTopButton?((0,s.uX)(),(0,s.CE)("button",{key:1,onClick:o[6]||(o[6]=(...o)=>e.scrollToTop&&e.scrollToTop(...o)),class:"top-button"},"TOP")):(0,s.Q3)("",!0),(0,s.bF)(c)],64)}const Je="https://api.themoviedb.org/3";var De=(0,s.pM)({name:"SearchViewComponent",components:{NavbarComponent:U,FooterComponent:J},setup(){const e=(0,w.KR)([]),o=(0,w.KR)([]),t=(0,w.KR)(""),a=(0,w.KR)(""),n=(0,w.KR)("popularity"),i=(0,w.KR)(!1),l=(0,w.KR)(1),r=(0,w.KR)(!1),c=(0,w.KR)(""),u=(0,w.KR)(null),p=async(o=1)=>{if(i.value)return;i.value=!0;const s="281dc9b971acbdf5c2a5787ded23f9b9";let l=`${Je}/discover/movie?api_key=${s}&language=ko-KR&page=${o}`;if(t.value&&(l+=`&with_genres=${t.value}`),a.value){const[e,o]=a.value.split("-");l+=`&vote_average.gte=${e}&vote_average.lte=${o}`}l+=`&sort_by=${n.value}`,c.value&&(l=`${Je}/search/movie?api_key=${s}&language=ko-KR&query=${c.value}&page=${o}`);try{const o=await fetch(l),t=await o.json();e.value=[...e.value,...t.results]}catch(r){console.error("Failed to fetch movies:",r)}finally{i.value=!1}},d=async()=>{const e="281dc9b971acbdf5c2a5787ded23f9b9",t=`${Je}/genre/movie/list?api_key=${e}&language=ko-KR`;try{const e=await fetch(t),a=await e.json();o.value=a.genres}catch(a){console.error("Failed to fetch genres:",a)}};(0,s.wB)([t,a,n],(()=>{e.value=[],l.value=1,p(l.value)}));const g=()=>{let o=JSON.parse(localStorage.getItem("searchQueries")||"{}");c.value&&(o[c.value]?o[c.value]++:o[c.value]=1,localStorage.setItem("searchQueries",JSON.stringify(o))),e.value=[],l.value=1,p(l.value)},m=()=>{t.value="",a.value="",n.value="popularity",c.value=""},v=e=>{const[o]=e;o.isIntersecting&&!i.value&&(l.value++,p(l.value))},h=o=>{let t=JSON.parse(localStorage.getItem("selectedMovies")||"[]");const a=t.findIndex((e=>e.id===o.id));-1===a?t.push({id:o.id,name:o.title,image:`https://image.tmdb.org/t/p/w500${o.poster_path}`}):t.splice(a,1),localStorage.setItem("selectedMovies",JSON.stringify(t)),e.value=[...e.value]},k=e=>{let o=JSON.parse(localStorage.getItem("selectedMovies")||"[]");return o.some((o=>o.id===e.id))},f=()=>{window.scrollTo({top:0,behavior:"smooth"})},b=()=>{r.value=window.scrollY>200};return(0,s.sV)((()=>{p(),d();const e=new IntersectionObserver(v,{root:null,rootMargin:"0px",threshold:1});u.value&&e.observe(u.value),window.addEventListener("scroll",b)})),(0,s.xo)((()=>{window.removeEventListener("scroll",b)})),{movies:e,genres:o,selectedGenre:t,selectedRatingRange:a,sortBy:n,isFetching:i,searchQuery:c,resetFilters:m,searchMovies:g,infiniteScrollTarget:u,toggleLocalStorage:h,isItemInLocalStorage:k,scrollToTop:f,showTopButton:r}}});const He=(0,u.A)(De,[["render",Be],["__scopeId","data-v-285d8cea"]]);var Ye=He;const ze={id:"app"};function qe(e,o,t,n,i,l){const r=(0,s.g2)("NavbarComponent"),c=(0,s.g2)("FooterComponent");return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.bF)(r),(0,s.Lk)("div",ze,[(0,s.bF)(a.eB,{name:"fade"},{default:(0,s.k6)((()=>[((0,s.uX)(),(0,s.Wv)((0,s.$y)(e.currentComponent),{onSwitchForm:e.switchForm,onLoginSuccess:e.navigateHome,onSignupSuccess:e.navigateSignin},null,40,["onSwitchForm","onLoginSuccess","onSignupSuccess"]))])),_:1})]),(0,s.bF)(c)],64)}var Ze="data:image/png;base64,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";const Ge={class:"signin-form"},$e={class:"signin-container"},eo={key:0,class:"error"},oo={class:"signin-remember"},to={key:1,class:"error"};function ao(e,o,t,n,i,l){return(0,s.uX)(),(0,s.CE)("div",Ge,[(0,s.Lk)("div",$e,[o[9]||(o[9]=(0,s.Lk)("h2",{class:"signin-title"},"Login",-1)),e.validEmail?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("span",eo,"Invalid email address")),(0,s.bo)((0,s.Lk)("input",{type:"email","onUpdate:modelValue":o[0]||(o[0]=o=>e.email=o),class:"signin-input",placeholder:"Enter your email"},null,512),[[a.Jo,e.email]]),(0,s.bo)((0,s.Lk)("input",{type:"password","onUpdate:modelValue":o[1]||(o[1]=o=>e.password=o),class:"signin-input",placeholder:"Enter your password"},null,512),[[a.Jo,e.password]]),(0,s.Lk)("div",oo,[(0,s.bo)((0,s.Lk)("input",{type:"checkbox","onUpdate:modelValue":o[2]||(o[2]=o=>e.rememberMe=o)},null,512),[[a.lH,e.rememberMe]]),o[6]||(o[6]=(0,s.eW)()),o[7]||(o[7]=(0,s.Lk)("span",null,"Remember me",-1))]),(0,s.Lk)("button",{onClick:o[3]||(o[3]=(...o)=>e.handleLogin&&e.handleLogin(...o)),class:"signin-button"},"Login"),(0,s.Lk)("button",{onClick:o[4]||(o[4]=o=>e.$emit("switch-form")),class:"signup-button"},"Go to Sign Up"),e.errorMessage?((0,s.uX)(),(0,s.CE)("span",to,(0,g.v_)(e.errorMessage),1)):(0,s.Q3)("",!0),(0,s.Lk)("button",{class:"kakao-login-btn",onClick:o[5]||(o[5]=o=>e.loginWithKakao())},o[8]||(o[8]=[(0,s.Lk)("img",{src:Ze,alt:"카카오 로그인 버튼"},null,-1)]))])])}var so=t(7411),no=(0,s.pM)({name:"SignInComponent",setup(){const e=(0,so.dj)(),o=()=>{e.success("Login Success")};return{toast:e,showToast:o}},data(){return{email:"",password:"",rememberMe:!1,errorMessage:""}},created(){const e=JSON.parse(localStorage.getItem("rememberedUser"));e&&(this.email=e.email,this.password=e.password,this.rememberMe=!0)},mounted(){window.Kakao.isInitialized()||(console.log("window.kakao not inited, Initializing Kakao SDK..."),window.Kakao.init("d5694c2f58eb9ffc7ab1e3ccc2cadc26"),console.log("Kakao SDK initialized:",window.Kakao.isInitialized()))},computed:{validEmail(){const e=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return e.test(this.email)}},methods:{handleLogin(){if(!this.validEmail)return void(this.errorMessage="Please enter a valid email.");if(this.password.length<6)return void(this.errorMessage="Password must be at least 6 characters.");let e=JSON.parse(localStorage.getItem("userCredentials"));Array.isArray(e)||(e=[]);const o=e.some((e=>e.email===this.email&&e.password===this.password));if(o){const e=W();e.login({email:this.email,password:this.password}),this.rememberMe?localStorage.setItem("rememberedUser",JSON.stringify({email:this.email,password:this.password})):localStorage.removeItem("rememberedUser"),this.showToast(),this.$emit("login-success")}else this.errorMessage="Invalid email or password."},loginWithKakao(){if(window.Kakao&&window.Kakao.Auth){const e="https://kauth.kakao.com/oauth/authorize?client_id=d80a20f1a2549633226e95226f3df409&redirect_uri=https://yoo-sh.github.io/netflix_clone/sign/congratulation&response_type=code";window.location.href=e}else console.error("Kakao SDK is not initialized.")}}});const io=(0,u.A)(no,[["render",ao],["__scopeId","data-v-5d943310"]]);var lo=io;const ro={class:"signup-form"},co={class:"signup-container"},uo={key:0,class:"error"},po={key:1,class:"error"},go={class:"signup-terms"},mo={key:2,class:"error"};function vo(e,o,t,n,i,l){return(0,s.uX)(),(0,s.CE)("div",ro,[(0,s.Lk)("div",co,[o[8]||(o[8]=(0,s.Lk)("h2",{class:"signup-title"},"Sign Up",-1)),(0,s.bo)((0,s.Lk)("input",{type:"email","onUpdate:modelValue":o[0]||(o[0]=o=>e.email=o),class:"signup-input",placeholder:"Enter your email"},null,512),[[a.Jo,e.email]]),e.validEmail?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("span",uo,"Invalid email address")),(0,s.bo)((0,s.Lk)("input",{type:"password","onUpdate:modelValue":o[1]||(o[1]=o=>e.password=o),class:"signup-input",placeholder:"Enter your password"},null,512),[[a.Jo,e.password]]),(0,s.bo)((0,s.Lk)("input",{type:"password","onUpdate:modelValue":o[2]||(o[2]=o=>e.confirmPassword=o),class:"signup-input",placeholder:"Confirm your password"},null,512),[[a.Jo,e.confirmPassword]]),e.passwordsMatch?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("span",po,"Passwords do not match")),(0,s.Lk)("div",go,[(0,s.bo)((0,s.Lk)("input",{type:"checkbox","onUpdate:modelValue":o[3]||(o[3]=o=>e.agreeToTerms=o)},null,512),[[a.lH,e.agreeToTerms]]),o[6]||(o[6]=(0,s.eW)()),o[7]||(o[7]=(0,s.Lk)("span",null,"I agree to the terms and conditions",-1))]),(0,s.Lk)("button",{onClick:o[4]||(o[4]=(...o)=>e.handleSignup&&e.handleSignup(...o)),class:"signup-button"},"Sign Up"),(0,s.Lk)("button",{onClick:o[5]||(o[5]=o=>e.$emit("switch-form")),class:"signin-button"},"Go to Sign In"),e.errorMessage?((0,s.uX)(),(0,s.CE)("span",mo,(0,g.v_)(e.errorMessage),1)):(0,s.Q3)("",!0)])])}var ho=(0,s.pM)({name:"SignUpComponent",data(){return{email:"",password:"",confirmPassword:"",agreeToTerms:!1,errorMessage:""}},computed:{validEmail(){const e=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return e.test(this.email)},passwordsMatch(){return this.password===this.confirmPassword}},methods:{handleSignup(){if(!this.validEmail)return void(this.errorMessage="Please enter a valid email.");if(this.password.length<6)return void(this.errorMessage="Password must be at least 6 characters.");if(!this.passwordsMatch)return void(this.errorMessage="Passwords do not match.");if(!this.agreeToTerms)return void(this.errorMessage="You must agree to the terms and conditions.");const e={email:this.email,password:this.password};let o=JSON.parse(localStorage.getItem("userCredentials"));Array.isArray(o)||(o=[]),o.some((e=>e.email===this.email))?this.errorMessage="Email is already registered.":(o.push(e),localStorage.setItem("userCredentials",JSON.stringify(o)),this.$emit("signup-success"))}}});const ko=(0,u.A)(ho,[["render",vo],["__scopeId","data-v-162ea04e"]]);var fo=ko,wo=(0,s.pM)({name:"SignViewComponent",data(){return{currentComponent:"SignInComponent"}},components:{SignInComponent:lo,SignUpComponent:fo,NavbarComponent:U,FooterComponent:J},methods:{switchForm(){this.currentComponent="SignInComponent"===this.currentComponent?"SignUpComponent":"SignInComponent"},navigateHome(){this.$router.push("/")},navigateSignin(){this.currentComponent="SignInComponent"}}});const bo=(0,u.A)(wo,[["render",qe]]);var Co=bo;const So={class:"congratulations"},Lo={class:"box"},yo={key:0},Io=["src"],To={key:1};function Mo(e,o,t,a,n,i){const l=(0,s.g2)("router-link"),r=(0,s.g2)("FooterComponent");return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.Lk)("div",So,[(0,s.Lk)("div",Lo,[n.userInfo?((0,s.uX)(),(0,s.CE)("div",yo,[(0,s.Lk)("h1",null,(0,g.v_)(n.userInfo.kakao_account.profile.nickname)+"님 회원가입을 축하합니다!",1),o[0]||(o[0]=(0,s.Lk)("p",null,"넷플릭스 클론사이트에 오신 것을 환영합니다.",-1)),(0,s.Lk)("div",null,[n.userInfo.kakao_account.profile.profile_image_url?((0,s.uX)(),(0,s.CE)("img",{key:0,src:n.userInfo.kakao_account.profile.profile_image_url,alt:"프로필 이미지",style:{width:"100px",height:"100px","border-radius":"50%"}},null,8,Io)):((0,s.uX)(),(0,s.CE)("p",To,"프로필 이미지가 없습니다."))])])):(0,s.Q3)("",!0),(0,s.bF)(l,{to:"/"},{default:(0,s.k6)((()=>o[1]||(o[1]=[(0,s.eW)("서비스 이용하기")]))),_:1})])]),(0,s.bF)(r)],64)}t(4603),t(7566),t(8721);var Fo={name:"SignCongratulationsViewComponent",components:{FooterComponent:J},data(){return{userInfo:null}},mounted(){this.getKaKaoOauthCode()},methods:{async getKaKaoOauthCode(){const e=new URLSearchParams(window.location.search),o=e.get("code");if(o){console.log("Authorization Code:",o);const e=await this.getAccessToken(o),t=await this.getUserInfo(e);this.userInfo=t;const a=JSON.parse(localStorage.getItem("userCredentials"))||[],s=a.some((e=>e.kakao_account_id===t.id));if(s){const o=W();o.login({access_token:e,userInfo:this.userInfo}),this.$router.push("/")}else{const o=W();o.login({access_token:e,userInfo:this.userInfo});const s={kakao_account_id:t.id};a.push(s),localStorage.setItem("userCredentials",JSON.stringify(a))}}else console.warn("No Authorization Code found in URL.")},async getAccessToken(e){console.log("Requesting Access Token...");const o="d80a20f1a2549633226e95226f3df409",t="https://yoo-sh.github.io/netflix_clone/sign/congratulation";try{const a=await fetch("https://kauth.kakao.com/oauth/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"},body:new URLSearchParams({grant_type:"authorization_code",client_id:o,redirect_uri:t,code:e})}),s=await a.json();if(s.access_token)return console.log("Access Token:",s.access_token),s.access_token;console.error("Failed to fetch access token:",s)}catch(a){console.error("Error fetching access token:",a)}},async getUserInfo(e){console.log("Requesting User Info...");try{const o=await fetch("https://kapi.kakao.com/v2/user/me",{method:"GET",headers:{Authorization:`Bearer ${e}`}}),t=await o.json();return console.log("User Info:",t),t}catch(o){console.error("Error fetching user info:",o)}}}};const Eo=(0,u.A)(Fo,[["render",Mo],["__scopeId","data-v-23ac0219"]]);var Ao=Eo;const Ko={class:"not-found"};function Po(e,o,t,a,n,i){const l=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",Ko,[o[1]||(o[1]=(0,s.Lk)("h1",null,"404 - Page Not Found",-1)),o[2]||(o[2]=(0,s.Lk)("p",null,"존재하지 않는 페이지 입니다.",-1)),(0,s.bF)(l,{to:"/",style:{color:"#f40612"}},{default:(0,s.k6)((()=>o[0]||(o[0]=[(0,s.eW)("Go Back Home")]))),_:1})])}var Oo={name:"NotFoundViewComponent"};const Ro=(0,u.A)(Oo,[["render",Po],["__scopeId","data-v-6b9b90e3"]]);var Xo=Ro;const Wo=[{path:"/",name:"home",component:z},{path:"/popular",name:"popular",component:le},{path:"/popular/table",name:"table",component:Se},{path:"/wishlist",name:"wishlist",component:Pe},{path:"/search",name:"search",component:Ye},{path:"/sign",name:"sign",component:Co},{path:"/sign/congratulation",name:"SignCongratulationsViewComponent",component:Ao},{path:"/:pathMatch(.*)*",name:"NotFoundViewComponent",component:Xo}],xo=(0,r.aE)({history:(0,r.LA)("/netflix_clone/"),routes:Wo});var No=xo;t(7917);const Uo={position:"top-center",timeout:3e3,closeOnClick:!0,toastClassName:"netflix-toast",bodyClassName:"netflix-toast-body"},_o=(0,X.Ey)();(0,a.Ef)(d).use(No).use(_o).use(so.Ay,Uo).mount("#app")}},o={};function t(a){var s=o[a];if(void 0!==s)return s.exports;var n=o[a]={exports:{}};return e[a].call(n.exports,n,n.exports,t),n.exports}t.m=e,function(){var e=[];t.O=function(o,a,s,n){if(!a){var i=1/0;for(u=0;u<e.length;u++){a=e[u][0],s=e[u][1],n=e[u][2];for(var l=!0,r=0;r<a.length;r++)(!1&n||i>=n)&&Object.keys(t.O).every((function(e){return t.O[e](a[r])}))?a.splice(r--,1):(l=!1,n<i&&(i=n));if(l){e.splice(u--,1);var c=s();void 0!==c&&(o=c)}}return o}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[a,s,n]}}(),function(){t.n=function(e){var o=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(o,{a:o}),o}}(),function(){t.d=function(e,o){for(var a in o)t.o(o,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:o[a]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)}}(),function(){var e={524:0};t.O.j=function(o){return 0===e[o]};var o=function(o,a){var s,n,i=a[0],l=a[1],r=a[2],c=0;if(i.some((function(o){return 0!==e[o]}))){for(s in l)t.o(l,s)&&(t.m[s]=l[s]);if(r)var u=r(t)}for(o&&o(a);c<i.length;c++)n=i[c],t.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return t.O(u)},a=self["webpackChunknetflix_clone"]=self["webpackChunknetflix_clone"]||[];a.forEach(o.bind(null,0)),a.push=o.bind(null,a.push.bind(a))}();var a=t.O(void 0,[504],(function(){return t(8822)}));a=t.O(a)})();
//# sourceMappingURL=app.b976d6d6.js.map